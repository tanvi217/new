{% extends 'community/base/login-navbar-mdbs.html' %}
    {% block title %}group edit{% endblock %}
    {% block content %}
                    <div class="container">

<!--<!DOCTYPE html>-->
<!--<html>-->
  <!--<head>-->
    <!--<title>Removing Markers</title>-->
    <!--<style>-->
      <!--/* Always set the map height explicitly to define the size of the div-->
       <!--* element that contains the map. */-->
      <!--#map {-->
        <!--height:100%;-->
      <!--}-->
      <!--/* Optional: Makes the sample page fill the window. */-->
      <!--html, body {-->
        <!--height: 70%;-->
        <!--margin: 0;-->
        <!--padding: 0;-->
      <!--}-->
      <!--#floating-panel {-->
        <!--position: absolute;-->
        <!--top: 10px;-->
        <!--left: 25%;-->
        <!--z-index: 5;-->
        <!--background-color: #fff;-->
        <!--padding: 5px;-->
        <!--border: 1px solid #999;-->
        <!--text-align: center;-->
        <!--font-family: 'Roboto','sans-serif';-->
        <!--line-height: 30px;-->
        <!--padding-left: 10px;-->
      <!--}-->
    <!--</style>-->
  <!--</head>-->
  <!--<body>-->
    <!---->
    <!--<div id="map"></div>-->

    <!--<p>Click on the map to add markers.</p><br><br>-->

	<!--<br><br>-->
	<!--<form method="POST" name="register">-->
        <!--{% csrf_token %}-->
        <!--<p>-->
            <!--<label>title</label>-->
            <!--<input type="text" name="title"> initial : {{ content.title }}-->
        <!--</p>-->
        <!--<p>-->
            <!--<label>type</label>-->
            <!--<input type="text" name="type"> initial : {{ content.type }}-->
        <!--</p>-->
        <!--<p>-->
            <!--<label>lat</label>-->
            <!--<input type="text" name="lat" id="lat1"> initial : {{ content.lat }}-->
        <!--</p>-->
        <!--<p>-->
            <!--<label>lon</label>-->
            <!--<input type="text" name="lon" id="lon1"> initial : {{ content.lon }}-->
        <!--</p>-->
        <!--<p>-->
            <!--<label>date</label>-->
            <!--<input type="date" name="date"> initial : {{ content.date }}-->
        <!--</p>-->
	<!--<p>-->
            <!--<label>address</label>-->
            <!--<input type="text" name="address" id="address"> initial : {{ content.address }}-->
        <!--</p>-->

        <!--<button type="submit">register</button>-->
        <!--<br><br><br>-->
    <!--</form>-->

    <!--<script>-->

      <!--// In the following example, markers appear when the user clicks on the map.-->
      <!--// The markers are stored in an array.-->
      <!--// The user can then click an option to hide, show or delete the markers.-->
      <!--var map;-->
      <!--var markers = [];-->
	<!--var z = 10;-->
      <!--function initMap() {-->
        <!--var haightAshbury = {lat: 37.769, lng: -122.446};-->

        <!--map = new google.maps.Map(document.getElementById('map'), {-->
          <!--zoom: 10,-->
          <!--center: haightAshbury,-->
          <!--mapTypeId: "hybrid"-->
        <!--});-->
	<!--map.addListener('zoom_changed', function() {-->
          <!--z = map.getZoom();-->
        <!--});-->
	<!--//document.getElementById('zoom').value = mapObject.getZoom();-->
	<!--var geocoder = new google.maps.Geocoder;-->
        <!--var infowindow = new google.maps.InfoWindow;-->
        <!--// This event listener will call addMarker() when the map is clicked.-->
	<!--// mapTypeId:google.maps.MapTypeId.HYBRID-->

	 <!--map.addListener('click', function(event) {-->
	<!--document.getElementById("address").value = "";-->
          <!--addMarker(event.latLng, z);-->
         <!--// map.setCenter(marker.getPosition());-->


	<!--gecodeLatLng(geocoder, map, infowindow, z);-->
        <!--});-->

	<!--marker.addListener('mouseover', function() {-->
	    <!--infowindow.open(map, this);-->
	<!--});-->

	<!--// assuming you also want to hide the infowindow when user mouses-out-->
	<!--marker.addListener('mouseout', function() {-->
	    <!--infowindow.close();-->
	<!--});-->






      <!--}-->

	<!--function gecodeLatLng(geocoder, map, infowindow, z) {-->
	<!--var la = document.getElementById('lat1').value;-->
	<!--var lo = document.getElementById('lon1').value;-->

		<!--var latlng = {lat: parseFloat(la), lng: parseFloat(lo)};-->
		<!--geocoder.geocode({'location': latlng}, function(results, status) {-->
		  <!--if (status === 'OK') {-->
		    <!--if (results[0]) {-->
		      <!--map.setZoom(z);-->
		      <!--map.setCenter(new google.maps.LatLng(la, lo));-->
		      <!--//infowindow.open(map);-->
		      <!--document.getElementById("address").value = results[0].formatted_address;-->
		    <!--} else {-->
		      <!--window.alert('No results found');-->
		    <!--}-->
		  <!--} else {-->
		    <!--window.alert('Geocoder failed due to: ' + status);-->
		  <!--}-->
		<!--});-->

	<!--}-->

      <!--// Adds a marker to the map and push to the array.-->
	<!--//document.getElementById('zoom').value = mapObject.getZoom();-->
      <!--function addMarker(location, z) {-->
	<!--document.getElementById("lat1").value = location.lat();-->
        <!--document.getElementById("lon1").value = location.lng();-->
        <!--var marker = new google.maps.Marker({-->
          <!--position: location,-->
          <!--map: map,-->
	  <!--zoom: z,-->
	  <!--center: location-->
        <!--});-->

	<!--//a pop up on the marker for its location and coords-->
	<!--var infoWindow = new google.maps.InfoWindow({-->
                <!--content: 'Latitude: ' + location.lat() + '<br />Longitude: ' + location.lng() + '<br>Address: '-->
            <!--});-->
            <!--infoWindow.open(map, marker);-->
	<!--deleteMarkers();-->
        <!--markers.push(marker);-->
      <!--}-->
      <!--// Sets the map on all markers in the array.-->
      <!--function setMapOnAll(map) {-->
        <!--for (var i = 0; i < markers.length; i++) {-->
          <!--markers[i].setMap(map);-->
        <!--}-->
      <!--}-->
      <!--// Removes the markers from the map, but keeps them in the array.-->
      <!--function clearMarkers() {-->
        <!--setMapOnAll(null);-->
      <!--}-->
      <!--// Deletes all markers in the array by removing references to them.-->
      <!--function deleteMarkers() {-->
        <!--clearMarkers();-->
        <!--markers = [];-->
      <!--}-->
<!--//syam sir :  AIzaSyBoxHIV4EUz3PsPOwB_ehuLLDu4OE0ELLc-->
<!--//AIzaSyC6v5-2uaq_wusHDktM9ILcqIrlPtnZgEk                                            Latitude: 53.479872 | Longitude: -2.189287-->
    <!--</script>-->
    <!--<script async defer-->
    <!--src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBoxHIV4EUz3PsPOwB_ehuLLDu4OE0ELLc&callback=initMap">-->
    <!--</script>-->
  <!--</body>-->
<!--</html>-->


	<br><br>

    <center>
        <div id="map" class="z-depth-5" style="height:50%"></div></center>

    <p>Click on the map to add markers.</p><br><br>

	<br><br>
	<form method="POST" name="register">
        {% csrf_token %}
        <p>
            <label>title</label>
            <input type="text" name="title" required> initial : {{ content.title }}
        </p>
        <p>
            <label>type</label>
            <input type="text" name="type" required> initial : {{ content.type }}
        </p>
        <p>
            <label>lat</label>
            <input type="text" name="lat" id="lat1" required> initial : {{ content.lat }}
        </p>
        <p>
            <label>lon</label>
            <input type="text" name="lon" id="lon1" required> initial : {{ content.lon }}
        </p>
        <p>
            <label>date</label>
            <input type="date" name="date" required> initial : {{ content.date }}
        </p>
	<p>
            <label>address</label>
            <input type="text" name="address" id="address" required> initial : {{ content.address }}
        </p><input id="submit1" type="button" value="Geocode">

        <button type="submit">register</button>
        <br><br><br>
    </form>

    <script>

      // In the following example, markers appear when the user clicks on the map.
      // The markers are stored in an array.
      // The user can then click an option to hide, show or delete the markers.
      var map;
      var markers = [];
	var z = 5;
      function initMap() {
        var haightAshbury = {lat: 20.46, lng: 78.66}

        map = new google.maps.Map(document.getElementById('map'), {
          zoom: 5,
          center: haightAshbury,
          mapTypeId: "hybrid"
        });
	map.addListener('zoom_changed', function() {
          z = map.getZoom();
        });

	//document.getElementById('zoom').value = mapObject.getZoom();
	var geocoder = new google.maps.Geocoder;
        var infowindow = new google.maps.InfoWindow;
        // This event listener will call addMarker() when the map is clicked.
	// mapTypeId:google.maps.MapTypeId.HYBRID

	 map.addListener('click', function(event) {
	document.getElementById("address").value = "";
          addMarker(event.latLng, z);
         // map.setCenter(marker.getPosition());


	gecodeLatLng(geocoder, map, infowindow, z);
        });

	document.getElementById('submit1').addEventListener('click', function() {
          geocodeAddress(geocoder, map);
        });





      }

	function gecodeLatLng(geocoder, map, infowindow, z) {
	var la = document.getElementById('lat1').value;
	var lo = document.getElementById('lon1').value;

		var latlng = {lat: parseFloat(la), lng: parseFloat(lo)};
		geocoder.geocode({'location': latlng}, function(results, status) {
		  if (status === 'OK') {
		    if (results[0]) {
		      map.setZoom(z);
		      map.setCenter(new google.maps.LatLng(la, lo));
		      infowindow.open(map);
		      document.getElementById("address").value = results[0].formatted_address;
		    } else {
		      window.alert('No results found');
		    }
		  } else {
		    window.alert('Geocoder failed due to: ' + status);
		  }
		});

	}

	function geocodeAddress(geocoder, resultsMap) {
        var address = document.getElementById('address').value;
        geocoder.geocode({'address': address}, function(results, status) {
          if (status === 'OK') {
		deleteMarkers();

            resultsMap.setCenter(results[0].geometry.location);
            var marker = new google.maps.Marker({
              map: resultsMap,
              position: results[0].geometry.location
            });
		document.getElementById("lat1").value = results[0].geometry.location.lat();
        document.getElementById("lon1").value = results[0].geometry.location.lng();
		        markers.push(marker);
          } else {
            alert('Geocode was not successful for the following reason: ' + status);
          }
        });
      }

      // Adds a marker to the map and push to the array.
	//document.getElementById('zoom').value = mapObject.getZoom();
      function addMarker(location, z) {
	document.getElementById("lat1").value = location.lat();
        document.getElementById("lon1").value = location.lng();
        var marker = new google.maps.Marker({
          position: location,
          map: map,
	  zoom: z,
	  center: location,
	  animation: google.maps.Animation.DROP,
        });

	//a pop up on the marker for its location and coords
	var infoWindow = new google.maps.InfoWindow({
                content: 'Latitude: ' + location.lat() + '<br />Longitude: ' + location.lng() + '<br>Address: '
            });
            infoWindow.open(map, marker);
	deleteMarkers();
        markers.push(marker);
      }
      // Sets the map on all markers in the array.
      function setMapOnAll(map) {
        for (var i = 0; i < markers.length; i++) {
          markers[i].setMap(map);
        }
      }
      // Removes the markers from the map, but keeps them in the array.
      function clearMarkers() {
        setMapOnAll(null);
      }
      // Deletes all markers in the array by removing references to them.
      function deleteMarkers() {
        clearMarkers();
        markers = [];
      }
//syam sir :  AIzaSyBoxHIV4EUz3PsPOwB_ehuLLDu4OE0ELLc
//AIzaSyC6v5-2uaq_wusHDktM9ILcqIrlPtnZgEk                                            Latitude: 53.479872 | Longitude: -2.189287
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBoxHIV4EUz3PsPOwB_ehuLLDu4OE0ELLc&callback=initMap">
    </script>
                    </div>
  {% endblock %}
